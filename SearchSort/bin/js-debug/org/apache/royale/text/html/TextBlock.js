/**
 * Generated by Apache Royale Compiler from org/apache/royale/text/html/TextBlock.as
 * org.apache.royale.text.html.TextBlock
 *
 * @fileoverview
 *
 * @suppress {missingRequire|checkTypes|accessControls}
 */

goog.provide('org.apache.royale.text.html.TextBlock');
/* Royale Dependency List: org.apache.royale.html.elements.Span,org.apache.royale.text.engine.ContentElement,org.apache.royale.text.engine.ElementFormat,org.apache.royale.text.engine.FontDescription,org.apache.royale.text.engine.ITextFactory,org.apache.royale.text.engine.ITextLine,org.apache.royale.text.engine.TabStop,org.apache.royale.text.engine.TextElement,org.apache.royale.text.engine.TextJustifier,org.apache.royale.text.html.TextLine,org.apache.royale.utils.Language*/

goog.require('org.apache.royale.text.engine.ITextBlock');



/**
 * @constructor
 * @implements {org.apache.royale.text.engine.ITextBlock}
 * @param {org.apache.royale.text.engine.ITextFactory} factory
 */
org.apache.royale.text.html.TextBlock = function(factory) {
  
  this.org_apache_royale_text_html_TextBlock_lines = [];
  this.org_apache_royale_text_html_TextBlock__textFactory = factory;
};


/**
 * Prevent renaming of class. Needed for reflection.
 */
goog.exportSymbol('org.apache.royale.text.html.TextBlock', org.apache.royale.text.html.TextBlock);


/**
 * @private
 * @type {org.apache.royale.text.engine.ITextFactory}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock__textFactory;


/**
 * @private
 * @type {boolean}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock__applyNonLinearFontScaling;


/**
 * @private
 * @type {org.apache.royale.text.engine.FontDescription}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock__baselineFontDescription;


/**
 * @private
 * @type {number}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock__baselineFontSize = 12;


/**
 * @private
 * @type {string}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock__baselineZero = "roman";


/**
 * @private
 * @type {number}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock__bidiLevel = 0;


/**
 * @private
 * @type {org.apache.royale.text.engine.ContentElement}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock__content;


/**
 * @private
 * @type {org.apache.royale.text.engine.ITextLine}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock__firstInvalidLine;


/**
 * @private
 * @type {org.apache.royale.text.engine.ITextLine}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock__firstLine;


/**
 * @private
 * @type {org.apache.royale.text.engine.ITextLine}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock__lastLine;


/**
 * @private
 * @type {string}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock__lineRotation;


/**
 * @private
 * @type {Array.<org.apache.royale.text.engine.TabStop>}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock__tabStops;


/**
 * @private
 * @type {org.apache.royale.text.engine.TextJustifier}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock__textJustifier;


/**
 * @private
 * @type {string}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock__textLineCreationResult;


/**
 * @private
 * @type {*}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock__userData;


/**
 * @private
 * @type {Array}
 */
org.apache.royale.text.html.TextBlock.prototype.org_apache_royale_text_html_TextBlock_lines;


/**
 * @royaleignorecoercion org.apache.royale.core.IParent
 * @export
 * @param {org.apache.royale.text.engine.ITextLine=} previousLine
 * @param {number=} width
 * @param {number=} lineOffset
 * @param {boolean=} fitSomething
 * @return {org.apache.royale.text.engine.ITextLine}
 */
org.apache.royale.text.html.TextBlock.prototype.createTextLine = function(previousLine, width, lineOffset, fitSomething) {
  previousLine = typeof previousLine !== 'undefined' ? previousLine : null;
  width = typeof width !== 'undefined' ? width : 1000000;
  lineOffset = typeof lineOffset !== 'undefined' ? lineOffset : 0.0;
  fitSomething = typeof fitSomething !== 'undefined' ? fitSomething : false;
  if (previousLine == null)
    this.org_apache_royale_text_html_TextBlock_lines.length = 0;
  var /** @type {org.apache.royale.text.engine.TextElement} */ textElem = org.apache.royale.utils.Language.as(this.content, org.apache.royale.text.engine.TextElement);
  var /** @type {org.apache.royale.text.engine.ElementFormat} */ format = this.content.elementFormat;
  var /** @type {org.apache.royale.text.html.TextLine} */ tl = new org.apache.royale.text.html.TextLine(this, previousLine ? previousLine.textBlockBeginIndex + previousLine.rawTextLength : 0);
  
  this.textFactory.currentContainer.addElement(tl);
  var /** @type {org.apache.royale.html.elements.Span} */ span = new org.apache.royale.html.elements.Span();
  span.text = textElem.text;
  tl.addElement(span);
  this.org_apache_royale_text_html_TextBlock_lines.push(tl);
  if (previousLine == null)
    this.org_apache_royale_text_html_TextBlock__firstLine = tl;
  this.org_apache_royale_text_html_TextBlock__lastLine = tl;
  return tl;
};


/**
 * @export
 * @return {string}
 */
org.apache.royale.text.html.TextBlock.prototype.dump = function() {
  return null;
};


/**
 * @export
 * @param {number} afterCharIndex
 * @return {number}
 */
org.apache.royale.text.html.TextBlock.prototype.findNextAtomBoundary = function(afterCharIndex) {
  return (afterCharIndex + 1) >> 0;
};


/**
 * @export
 * @param {number} afterCharIndex
 * @return {number}
 */
org.apache.royale.text.html.TextBlock.prototype.findNextWordBoundary = function(afterCharIndex) {
  org.apache.royale.utils.Language.trace("findNextWordBoundary not implemented");
  return 0;
};


/**
 * @export
 * @param {number} beforeCharIndex
 * @return {number}
 */
org.apache.royale.text.html.TextBlock.prototype.findPreviousAtomBoundary = function(beforeCharIndex) {
  return (beforeCharIndex - 1) >> 0;
};


/**
 * @export
 * @param {number} beforeCharIndex
 * @return {number}
 */
org.apache.royale.text.html.TextBlock.prototype.findPreviousWordBoundary = function(beforeCharIndex) {
  org.apache.royale.utils.Language.trace("findPreviousWordBoundary not implemented");
  return 0;
};


/**
 * @export
 * @param {number} charIndex
 * @return {org.apache.royale.text.engine.ITextLine}
 */
org.apache.royale.text.html.TextBlock.prototype.getTextLineAtCharIndex = function(charIndex) {
  var /** @type {number} */ lineIndex = 0;
  var foreachiter0_target = this.org_apache_royale_text_html_TextBlock_lines;
  for (var foreachiter0 in foreachiter0_target) 
  {
  var line = foreachiter0_target[foreachiter0];
  {
    
    lineIndex += (line.element.firstChild.textContent.length) >> 0;
    if (lineIndex > charIndex)
      return line;
  }}
  
  return null;
};


/**
 * @export
 * @param {org.apache.royale.text.engine.ITextLine} textLine
 * @param {org.apache.royale.text.engine.ITextLine=} previousLine
 * @param {number=} width
 * @param {number=} lineOffset
 * @param {boolean=} fitSomething
 * @return {org.apache.royale.text.engine.ITextLine}
 */
org.apache.royale.text.html.TextBlock.prototype.recreateTextLine = function(textLine, previousLine, width, lineOffset, fitSomething) {
  previousLine = typeof previousLine !== 'undefined' ? previousLine : null;
  width = typeof width !== 'undefined' ? width : 1000000;
  lineOffset = typeof lineOffset !== 'undefined' ? lineOffset : 0.0;
  fitSomething = typeof fitSomething !== 'undefined' ? fitSomething : false;
  org.apache.royale.utils.Language.trace("recreateTextLine not implemented");
  return null;
};


/**
 * @export
 */
org.apache.royale.text.html.TextBlock.prototype.releaseLineCreationData = function() {
};


/**
 * @export
 * @param {org.apache.royale.text.engine.ITextLine} firstLine
 * @param {org.apache.royale.text.engine.ITextLine} lastLine
 */
org.apache.royale.text.html.TextBlock.prototype.releaseLines = function(firstLine, lastLine) {
  this.org_apache_royale_text_html_TextBlock_lines.length = 0;
};


/**
 * @export
 * @param {org.apache.royale.text.engine.ContentElement} element
 * @return {number}
 */
org.apache.royale.text.html.TextBlock.prototype.getRelativeStart = function(element) {
  return 0;
};


org.apache.royale.text.html.TextBlock.prototype.get__textFactory = function() {
  return this.org_apache_royale_text_html_TextBlock__textFactory;
};


org.apache.royale.text.html.TextBlock.prototype.get__applyNonLinearFontScaling = function() {
  return this.org_apache_royale_text_html_TextBlock__applyNonLinearFontScaling;
};


org.apache.royale.text.html.TextBlock.prototype.set__applyNonLinearFontScaling = function(value) {
  this.org_apache_royale_text_html_TextBlock__applyNonLinearFontScaling = value;
};


org.apache.royale.text.html.TextBlock.prototype.get__baselineFontDescription = function() {
  return this.org_apache_royale_text_html_TextBlock__baselineFontDescription;
};


org.apache.royale.text.html.TextBlock.prototype.set__baselineFontDescription = function(value) {
  this.org_apache_royale_text_html_TextBlock__baselineFontDescription = value;
};


org.apache.royale.text.html.TextBlock.prototype.get__baselineFontSize = function() {
  return this.org_apache_royale_text_html_TextBlock__baselineFontSize;
};


org.apache.royale.text.html.TextBlock.prototype.set__baselineFontSize = function(value) {
  this.org_apache_royale_text_html_TextBlock__baselineFontSize = value;
};


org.apache.royale.text.html.TextBlock.prototype.get__baselineZero = function() {
  return this.org_apache_royale_text_html_TextBlock__baselineZero;
};


org.apache.royale.text.html.TextBlock.prototype.set__baselineZero = function(value) {
  this.org_apache_royale_text_html_TextBlock__baselineZero = value;
};


org.apache.royale.text.html.TextBlock.prototype.get__bidiLevel = function() {
  return this.org_apache_royale_text_html_TextBlock__bidiLevel;
};


org.apache.royale.text.html.TextBlock.prototype.set__bidiLevel = function(value) {
  this.org_apache_royale_text_html_TextBlock__bidiLevel = value;
};


org.apache.royale.text.html.TextBlock.prototype.get__content = function() {
  return this.org_apache_royale_text_html_TextBlock__content;
};


org.apache.royale.text.html.TextBlock.prototype.set__content = function(value) {
  this.org_apache_royale_text_html_TextBlock__content = value;
};


org.apache.royale.text.html.TextBlock.prototype.get__firstInvalidLine = function() {
  return this.org_apache_royale_text_html_TextBlock__firstInvalidLine;
};


org.apache.royale.text.html.TextBlock.prototype.set__firstInvalidLine = function(value) {
  this.org_apache_royale_text_html_TextBlock__firstInvalidLine = value;
};


org.apache.royale.text.html.TextBlock.prototype.get__firstLine = function() {
  return this.org_apache_royale_text_html_TextBlock__firstLine;
};


org.apache.royale.text.html.TextBlock.prototype.set__firstLine = function(value) {
  this.org_apache_royale_text_html_TextBlock__firstLine = value;
};


org.apache.royale.text.html.TextBlock.prototype.get__lastLine = function() {
  return this.org_apache_royale_text_html_TextBlock__lastLine;
};


org.apache.royale.text.html.TextBlock.prototype.set__lastLine = function(value) {
  this.org_apache_royale_text_html_TextBlock__lastLine = value;
};


org.apache.royale.text.html.TextBlock.prototype.get__lineRotation = function() {
  return this.org_apache_royale_text_html_TextBlock__lineRotation;
};


org.apache.royale.text.html.TextBlock.prototype.set__lineRotation = function(value) {
  this.org_apache_royale_text_html_TextBlock__lineRotation = value;
};


org.apache.royale.text.html.TextBlock.prototype.get__tabStops = function() {
  return this.org_apache_royale_text_html_TextBlock__tabStops;
};


org.apache.royale.text.html.TextBlock.prototype.set__tabStops = function(value) {
  this.org_apache_royale_text_html_TextBlock__tabStops = value;
};


org.apache.royale.text.html.TextBlock.prototype.get__textJustifier = function() {
  return this.org_apache_royale_text_html_TextBlock__textJustifier;
};


org.apache.royale.text.html.TextBlock.prototype.set__textJustifier = function(value) {
  this.org_apache_royale_text_html_TextBlock__textJustifier = value;
};


org.apache.royale.text.html.TextBlock.prototype.get__textLineCreationResult = function() {
  return this.org_apache_royale_text_html_TextBlock__textLineCreationResult;
};


org.apache.royale.text.html.TextBlock.prototype.set__textLineCreationResult = function(value) {
  this.org_apache_royale_text_html_TextBlock__textLineCreationResult = value;
};


org.apache.royale.text.html.TextBlock.prototype.get__userData = function() {
  return this.org_apache_royale_text_html_TextBlock__userData;
};


org.apache.royale.text.html.TextBlock.prototype.set__userData = function(value) {
  this.org_apache_royale_text_html_TextBlock__userData = value;
};


Object.defineProperties(org.apache.royale.text.html.TextBlock.prototype, /** @lends {org.apache.royale.text.html.TextBlock.prototype} */ {
/**
  * @export
  * @type {org.apache.royale.text.engine.ITextFactory} */
textFactory: {
get: org.apache.royale.text.html.TextBlock.prototype.get__textFactory},
/**
  * @export
  * @type {boolean} */
applyNonLinearFontScaling: {
get: org.apache.royale.text.html.TextBlock.prototype.get__applyNonLinearFontScaling,
set: org.apache.royale.text.html.TextBlock.prototype.set__applyNonLinearFontScaling},
/**
  * @export
  * @type {org.apache.royale.text.engine.FontDescription} */
baselineFontDescription: {
get: org.apache.royale.text.html.TextBlock.prototype.get__baselineFontDescription,
set: org.apache.royale.text.html.TextBlock.prototype.set__baselineFontDescription},
/**
  * @export
  * @type {number} */
baselineFontSize: {
get: org.apache.royale.text.html.TextBlock.prototype.get__baselineFontSize,
set: org.apache.royale.text.html.TextBlock.prototype.set__baselineFontSize},
/**
  * @export
  * @type {string} */
baselineZero: {
get: org.apache.royale.text.html.TextBlock.prototype.get__baselineZero,
set: org.apache.royale.text.html.TextBlock.prototype.set__baselineZero},
/**
  * @export
  * @type {number} */
bidiLevel: {
get: org.apache.royale.text.html.TextBlock.prototype.get__bidiLevel,
set: org.apache.royale.text.html.TextBlock.prototype.set__bidiLevel},
/**
  * @export
  * @type {org.apache.royale.text.engine.ContentElement} */
content: {
get: org.apache.royale.text.html.TextBlock.prototype.get__content,
set: org.apache.royale.text.html.TextBlock.prototype.set__content},
/**
  * @export
  * @type {org.apache.royale.text.engine.ITextLine} */
firstInvalidLine: {
get: org.apache.royale.text.html.TextBlock.prototype.get__firstInvalidLine,
set: org.apache.royale.text.html.TextBlock.prototype.set__firstInvalidLine},
/**
  * @export
  * @type {org.apache.royale.text.engine.ITextLine} */
firstLine: {
get: org.apache.royale.text.html.TextBlock.prototype.get__firstLine,
set: org.apache.royale.text.html.TextBlock.prototype.set__firstLine},
/**
  * @export
  * @type {org.apache.royale.text.engine.ITextLine} */
lastLine: {
get: org.apache.royale.text.html.TextBlock.prototype.get__lastLine,
set: org.apache.royale.text.html.TextBlock.prototype.set__lastLine},
/**
  * @export
  * @type {string} */
lineRotation: {
get: org.apache.royale.text.html.TextBlock.prototype.get__lineRotation,
set: org.apache.royale.text.html.TextBlock.prototype.set__lineRotation},
/**
  * @export
  * @type {Array.<TabStop>} */
tabStops: {
get: org.apache.royale.text.html.TextBlock.prototype.get__tabStops,
set: org.apache.royale.text.html.TextBlock.prototype.set__tabStops},
/**
  * @export
  * @type {org.apache.royale.text.engine.TextJustifier} */
textJustifier: {
get: org.apache.royale.text.html.TextBlock.prototype.get__textJustifier,
set: org.apache.royale.text.html.TextBlock.prototype.set__textJustifier},
/**
  * @export
  * @type {string} */
textLineCreationResult: {
get: org.apache.royale.text.html.TextBlock.prototype.get__textLineCreationResult,
set: org.apache.royale.text.html.TextBlock.prototype.set__textLineCreationResult},
/**
  * @export
  * @type {*} */
userData: {
get: org.apache.royale.text.html.TextBlock.prototype.get__userData,
set: org.apache.royale.text.html.TextBlock.prototype.set__userData}}
);


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
org.apache.royale.text.html.TextBlock.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'TextBlock', qName: 'org.apache.royale.text.html.TextBlock', kind: 'class' }], interfaces: [org.apache.royale.text.engine.ITextBlock] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
org.apache.royale.text.html.TextBlock.prototype.ROYALE_REFLECTION_INFO = function () {
  return {
    accessors: function () {
      return {
        'textFactory': { type: 'org.apache.royale.text.engine.ITextFactory', access: 'readonly', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'applyNonLinearFontScaling': { type: 'Boolean', access: 'readwrite', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'baselineFontDescription': { type: 'org.apache.royale.text.engine.FontDescription', access: 'readwrite', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'baselineFontSize': { type: 'Number', access: 'readwrite', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'baselineZero': { type: 'String', access: 'readwrite', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'bidiLevel': { type: 'int', access: 'readwrite', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'content': { type: 'org.apache.royale.text.engine.ContentElement', access: 'readwrite', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'firstInvalidLine': { type: 'org.apache.royale.text.engine.ITextLine', access: 'readwrite', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'firstLine': { type: 'org.apache.royale.text.engine.ITextLine', access: 'readwrite', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'lastLine': { type: 'org.apache.royale.text.engine.ITextLine', access: 'readwrite', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'lineRotation': { type: 'String', access: 'readwrite', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'tabStops': { type: 'Vector.<org.apache.royale.text.engine.TabStop>', access: 'readwrite', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'textJustifier': { type: 'org.apache.royale.text.engine.TextJustifier', access: 'readwrite', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'textLineCreationResult': { type: 'String', access: 'readwrite', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'userData': { type: '*', access: 'readwrite', declaredBy: 'org.apache.royale.text.html.TextBlock'}
      };
    },
    methods: function () {
      return {
        'TextBlock': { type: '', declaredBy: 'org.apache.royale.text.html.TextBlock', parameters: function () { return [ 'org.apache.royale.text.engine.ITextFactory', false ]; }},
        'createTextLine': { type: 'org.apache.royale.text.engine.ITextLine', declaredBy: 'org.apache.royale.text.html.TextBlock', parameters: function () { return [ 'org.apache.royale.text.engine.ITextLine', true ,'Number', true ,'Number', true ,'Boolean', true ]; }},
        'dump': { type: 'String', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'findNextAtomBoundary': { type: 'int', declaredBy: 'org.apache.royale.text.html.TextBlock', parameters: function () { return [ 'int', false ]; }},
        'findNextWordBoundary': { type: 'int', declaredBy: 'org.apache.royale.text.html.TextBlock', parameters: function () { return [ 'int', false ]; }},
        'findPreviousAtomBoundary': { type: 'int', declaredBy: 'org.apache.royale.text.html.TextBlock', parameters: function () { return [ 'int', false ]; }},
        'findPreviousWordBoundary': { type: 'int', declaredBy: 'org.apache.royale.text.html.TextBlock', parameters: function () { return [ 'int', false ]; }},
        'getTextLineAtCharIndex': { type: 'org.apache.royale.text.engine.ITextLine', declaredBy: 'org.apache.royale.text.html.TextBlock', parameters: function () { return [ 'int', false ]; }},
        'recreateTextLine': { type: 'org.apache.royale.text.engine.ITextLine', declaredBy: 'org.apache.royale.text.html.TextBlock', parameters: function () { return [ 'org.apache.royale.text.engine.ITextLine', false ,'org.apache.royale.text.engine.ITextLine', true ,'Number', true ,'Number', true ,'Boolean', true ]; }},
        'releaseLineCreationData': { type: 'void', declaredBy: 'org.apache.royale.text.html.TextBlock'},
        'releaseLines': { type: 'void', declaredBy: 'org.apache.royale.text.html.TextBlock', parameters: function () { return [ 'org.apache.royale.text.engine.ITextLine', false ,'org.apache.royale.text.engine.ITextLine', false ]; }},
        'getRelativeStart': { type: 'int', declaredBy: 'org.apache.royale.text.html.TextBlock', parameters: function () { return [ 'org.apache.royale.text.engine.ContentElement', false ]; }}
      };
    }
  };
};
/**
 * @const
 * @type {number}
 */
org.apache.royale.text.html.TextBlock.prototype.ROYALE_COMPILE_FLAGS = 10;
