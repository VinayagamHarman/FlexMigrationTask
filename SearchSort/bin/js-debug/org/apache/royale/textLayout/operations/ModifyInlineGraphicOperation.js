/**
 * Generated by Apache Royale Compiler from org/apache/royale/textLayout/operations/ModifyInlineGraphicOperation.as
 * org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation
 *
 * @fileoverview
 *
 * @suppress {missingRequire|checkTypes|accessControls}
 */

goog.provide('org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation');
/* Royale Dependency List: org.apache.royale.textLayout.edit.SelectionState,org.apache.royale.textLayout.elements.IFlowElement,org.apache.royale.textLayout.elements.IFlowGroupElement,org.apache.royale.textLayout.elements.InlineGraphicElement,XML*/

goog.require('org.apache.royale.textLayout.operations.FlowTextOperation');



/** 
 * Creates a ModifyInlineGraphicsOperation object.
 * 
 * @asparam operationState Describes the insertion point. 
 * If a range is selected, the operation deletes the contents of that range.
 * @asparam	source	The graphic source (uri string, URLRequest, DisplayObject, or Class of an embedded asset). 
 * @asparam	width	The width to assign (number of pixels, percent, or the string 'auto')
 * @asparam	height	The height to assign (number of pixels, percent, or the string 'auto')
 * @asparam	options	None supported
 * 
 * @playerversion Flash 10
 * @playerversion AIR 1.5
 * @langversion 3.0 
 * @constructor
 * @extends {org.apache.royale.textLayout.operations.FlowTextOperation}
 * @param {org.apache.royale.textLayout.edit.SelectionState} operationState
 * @param {Object} source
 * @param {Object} width
 * @param {Object} height
 * @param {Object=} options
 */
org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation = function(operationState, source, width, height, options) {
  options = typeof options !== 'undefined' ? options : null;
  org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.base(this, 'constructor', operationState);
  this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation__source = source;
  this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation__options = options;
  this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_imageWidth = width;
  this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_imageHeight = height;
};
goog.inherits(org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation, org.apache.royale.textLayout.operations.FlowTextOperation);


/**
 * Prevent renaming of class. Needed for reflection.
 */
goog.exportSymbol('org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation', org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation);


/**
 * @private
 * @type {Object}
 */
org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation__source;


/**
 * @private
 * @type {Object}
 */
org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_imageWidth;


/**
 * @private
 * @type {Object}
 */
org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_imageHeight;


/**
 * @private
 * @type {Object}
 */
org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation__options;


/**
 * @private
 * @type {org.apache.royale.textLayout.elements.IFlowElement}
 */
org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_oldImage;


/**
 * @private
 * @type {number}
 */
org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_selPos = 0;


/** @asprivate 
 * @export
 * @override
 */
org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.doOperation = function() {
  this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_selPos = this.absoluteStart;
  var /** @type {org.apache.royale.textLayout.elements.InlineGraphicElement} */ img = this.textFlow.findLeaf(this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_selPos);
  if (img) {
    this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_oldImage = img.shallowCopy(0, 1);
    if (img.width != this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_imageWidth)
      img.width = this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_imageWidth;
    if (img.height != this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_imageHeight)
      img.height = this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_imageHeight;
    if (img.source != this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation__source)
      img.source = this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation__source;
    if (this.options && img.float != this.options.toString())
      img.float = this.options.toString();
  }
  return true;
};


/** @asprivate 
 * @export
 * @override
 */
org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.undo = function() {
  var /** @type {org.apache.royale.textLayout.elements.IFlowElement} */ leafNode = this.textFlow.findLeaf(this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_selPos);
  var /** @type {org.apache.royale.textLayout.elements.IFlowGroupElement} */ leafNodeParent = leafNode.parent;
  var /** @type {number} */ elementIdx = leafNode.parent.getChildIndex(leafNode);
  leafNodeParent.replaceChildren(elementIdx, (elementIdx + 1) >> 0, this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_oldImage);
  return this.originalSelectionState;
};


org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.get__source = function() {
  return this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation__source;
};


org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.set__source = function(value) {
  this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation__source = value;
};


org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.get__width = function() {
  return this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_imageWidth;
};


org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.set__width = function(value) {
  this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_imageWidth = value;
};


org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.get__height = function() {
  return this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_imageHeight;
};


org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.set__height = function(value) {
  this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation_imageHeight = value;
};


org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.get__options = function() {
  return this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation__options;
};


org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.set__options = function(value) {
  this.org_apache_royale_textLayout_operations_ModifyInlineGraphicOperation__options = value;
};


Object.defineProperties(org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype, /** @lends {org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype} */ {
/**
  * @export
  * @type {Object} */
source: {
get: org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.get__source,
set: org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.set__source},
/**
  * @export
  * @type {Object} */
width: {
get: org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.get__width,
set: org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.set__width},
/**
  * @export
  * @type {Object} */
height: {
get: org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.get__height,
set: org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.set__height},
/**
  * @export
  * @type {Object} */
options: {
get: org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.get__options,
set: org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.set__options}}
);


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'ModifyInlineGraphicOperation', qName: 'org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation', kind: 'class' }] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.ROYALE_REFLECTION_INFO = function () {
  return {
    accessors: function () {
      return {
        'source': { type: 'Object', access: 'readwrite', declaredBy: 'org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation'},
        'width': { type: 'Object', access: 'readwrite', declaredBy: 'org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation'},
        'height': { type: 'Object', access: 'readwrite', declaredBy: 'org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation'},
        'options': { type: 'Object', access: 'readwrite', declaredBy: 'org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation'}
      };
    },
    methods: function () {
      return {
        'ModifyInlineGraphicOperation': { type: '', declaredBy: 'org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation', parameters: function () { return [ 'org.apache.royale.textLayout.edit.SelectionState', false ,'Object', false ,'Object', false ,'Object', false ,'Object', true ]; }},
        'doOperation': { type: 'Boolean', declaredBy: 'org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation'},
        'undo': { type: 'org.apache.royale.textLayout.edit.SelectionState', declaredBy: 'org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation'}
      };
    }
  };
};
/**
 * @const
 * @type {number}
 */
org.apache.royale.textLayout.operations.ModifyInlineGraphicOperation.prototype.ROYALE_COMPILE_FLAGS = 10;
