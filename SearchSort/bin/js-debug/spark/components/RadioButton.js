/**
 * Generated by Apache Royale Compiler from spark/components/RadioButton.as
 * spark.components.RadioButton
 *
 * @fileoverview
 *
 * @suppress {missingRequire|checkTypes|accessControls}
 */

goog.provide('spark.components.RadioButton');
/* Royale Dependency List: mx.core.IFlexDisplayObject,mx.core.mx_internal,mx.events.FlexEvent,org.apache.royale.core.WrappedHTMLElement,org.apache.royale.events.Event,org.apache.royale.html.supportClasses.RadioButtonIcon,org.apache.royale.html.util.addElementToWrapper,spark.components.RadioButtonGroup,org.apache.royale.utils.Language,XML*/

goog.require('spark.components.supportClasses.ToggleButtonBase');



/**
 *  Constructor.
 *  
 *  @langversion 3.0
 *  @playerversion Flash 10
 *  @playerversion AIR 1.5
 *  @productversion Royale 0.9.4
 * @constructor
 * @extends {spark.components.supportClasses.ToggleButtonBase}
 */
spark.components.RadioButton = function() {
  spark.components.RadioButton.base(this, 'constructor');
  this.groupName = "radioGroup";
};
goog.inherits(spark.components.RadioButton, spark.components.supportClasses.ToggleButtonBase);


/**
 * Prevent renaming of class. Needed for reflection.
 */
goog.exportSymbol('spark.components.RadioButton', spark.components.RadioButton);


/**
 * @export
 * @nocollapse
 * @type {number}
 */
spark.components.RadioButton.radioCounter = 0;


/**
 * @private
 * @type {HTMLLabelElement}
 */
spark.components.RadioButton.prototype.spark_components_RadioButton_labelFor;


/**
 * @private
 * @type {Text}
 */
spark.components.RadioButton.prototype.spark_components_RadioButton_textNode;


/**
 * @private
 * @type {org.apache.royale.html.supportClasses.RadioButtonIcon}
 */
spark.components.RadioButton.prototype.spark_components_RadioButton_rbicon;


/**
 * @royaleignorecoercion org.apache.royale.core.WrappedHTMLElement
 * @royaleignorecoercion HTMLInputElement
 * @royaleignorecoercion HTMLLabelElement
 * @royaleignorecoercion Text
 * @protected
 * @override
 */
spark.components.RadioButton.prototype.createElement = function() {
  this.spark_components_RadioButton_rbicon = new org.apache.royale.html.supportClasses.RadioButtonIcon();
  this.spark_components_RadioButton_rbicon.id = '_radio_' + spark.components.RadioButton.radioCounter++;
  this.spark_components_RadioButton_rbicon.element.addEventListener("click", org.apache.royale.utils.Language.closure(this.spark_components_RadioButton_rbClickHandler, this, 'spark_components_RadioButton_rbClickHandler'));
  this.spark_components_RadioButton_textNode = document.createTextNode('');
  this.spark_components_RadioButton_labelFor = org.apache.royale.html.util.addElementToWrapper(this, 'label');
  this.spark_components_RadioButton_labelFor.appendChild(this.spark_components_RadioButton_rbicon.element);
  this.spark_components_RadioButton_labelFor.appendChild(this.spark_components_RadioButton_textNode);
  this.spark_components_RadioButton_textNode.royale_wrapper = this;
  this.spark_components_RadioButton_rbicon.element.royale_wrapper = this;
  this.typeNames = 'RadioButton';
  return this.element;
};


/**
 * @royaleignorecoercion HTMLInputElement
 * @private
 * @param {org.apache.royale.events.Event} event
 */
spark.components.RadioButton.prototype.spark_components_RadioButton_rbClickHandler = function(event) {
  this.selected = this.spark_components_RadioButton_rbicon.element.checked;
  if (this.group)
    this.group.http_$$www_adobe_com$2006$flex$mx$internal__setSelection(this);
};


/**
 * @type {number}
 */
spark.components.RadioButton.prototype.http_$$www_adobe_com$2006$flex$mx$internal__indexNumber = 0;


/**
 * @type {spark.components.RadioButtonGroup}
 */
spark.components.RadioButton.prototype.http_$$www_adobe_com$2006$flex$mx$internal__radioButtonGroup = null;


/**
 * @private
 * @type {spark.components.RadioButtonGroup}
 */
spark.components.RadioButton.prototype.spark_components_RadioButton__group;


/**
 * @private
 * @type {string}
 */
spark.components.RadioButton.prototype.spark_components_RadioButton__groupName;


/**
 * @private
 * @type {boolean}
 */
spark.components.RadioButton.prototype.spark_components_RadioButton_groupChanged = false;


/**
 * @private
 * @type {Object}
 */
spark.components.RadioButton.prototype.spark_components_RadioButton__value;


/**
 *  @asprivate
 *  Create radio button group if it does not exist
 *  and add the instance to the group. 
 * @private
 * @return {spark.components.RadioButtonGroup}
 */
spark.components.RadioButton.prototype.spark_components_RadioButton_addToGroup = function() {
  var /** @type {spark.components.RadioButtonGroup} */ g = this.group;
  if (g)
    g.http_$$www_adobe_com$2006$flex$mx$internal__addInstance(this);
  return g;
};


/**
 *  @asprivate
 * @private
 */
spark.components.RadioButton.prototype.spark_components_RadioButton_removeFromGroup = function() {
  try {
    if (this.mxmlDocument.automaticRadioButtonGroups[this.spark_components_RadioButton_autoGroupIndex].numRadioButtons == 0) {
      delete this.mxmlDocument.automaticRadioButtonGroups[this.spark_components_RadioButton_autoGroupIndex];
    }
  } catch (e) {
  }
};


/**
 * The method called when added to a parent. The DateField class uses
 * this opportunity to install additional beads.
 *  
 *  @langversion 3.0
 *  @playerversion Flash 10.2
 *  @playerversion AIR 2.6
 *  @productversion Royale 0.0
 * @export
 * @override
 */
spark.components.RadioButton.prototype.addedToParent = function() {
  spark.components.RadioButton.superClass_.addedToParent.apply(this);
  this.spark_components_RadioButton_addToGroup();
  if (this.selected)
    this.group.http_$$www_adobe_com$2006$flex$mx$internal__setSelection(this, false);
};


spark.components.RadioButton.prototype.set__id = function(value) {
  spark.components.RadioButton.superClass_.set__id.apply(this, [ value] );
  this.spark_components_RadioButton_labelFor.id = value;
  this.spark_components_RadioButton_rbicon.element.id = value;
};


spark.components.RadioButton.prototype.get__label = function() {
  return org.apache.royale.utils.Language.as(this.spark_components_RadioButton_textNode.nodeValue, String);
};


spark.components.RadioButton.prototype.set__label = function(value) {
  this.spark_components_RadioButton_textNode.nodeValue = value;
};


spark.components.RadioButton.prototype.set__selected = function(value) {
  spark.components.RadioButton.superClass_.set__selected.apply(this, [ value] );
  this.spark_components_RadioButton_rbicon.element.checked = value;
  if (value && this.group)
    this.group.http_$$www_adobe_com$2006$flex$mx$internal__setSelection(this);
  this.dispatchEvent(new org.apache.royale.events.Event("selectedChanged"));
};


spark.components.RadioButton.prototype.get__measuredWidth = function() {
  var /** @type {number} */ mw = spark.components.RadioButton.superClass_.get__measuredWidth.apply(this);
  return mw + 1;
};


spark.components.RadioButton.prototype.get__enabled = function() {
  if (!spark.components.RadioButton.superClass_.get__enabled.apply(this))
    return false;
  return false;
};


spark.components.RadioButton.prototype.get__spark_components_RadioButton_autoGroupIndex = function() {
  return "_spark_" + this.groupName;
};


spark.components.RadioButton.prototype.get__group = function() {
  if (!this.mxmlDocument)
    return this.spark_components_RadioButton__group;
  if (!this.spark_components_RadioButton__group) {
    if (this.groupName && this.groupName != "") {
      var /** @type {spark.components.RadioButtonGroup} */ g;
      try {
        g = org.apache.royale.utils.Language.as(this.mxmlDocument[this.groupName], spark.components.RadioButtonGroup, true);
        if (g == null)
          throw new Error();
      } catch (e) {
        if (this.mxmlDocument.automaticRadioButtonGroups && this.mxmlDocument.automaticRadioButtonGroups[this.spark_components_RadioButton_autoGroupIndex]) {
          g = org.apache.royale.utils.Language.as(this.mxmlDocument.automaticRadioButtonGroups[this.spark_components_RadioButton_autoGroupIndex], spark.components.RadioButtonGroup, true);
        }
      }
      if (!g) {
        g = new spark.components.RadioButtonGroup(org.apache.royale.utils.Language.as(this.mxmlDocument, mx.core.IFlexDisplayObject, true));
        if (!this.mxmlDocument.automaticRadioButtonGroups)
          this.mxmlDocument.automaticRadioButtonGroups = [];
        this.mxmlDocument.automaticRadioButtonGroups[this.spark_components_RadioButton_autoGroupIndex] = g;
      } else if (!org.apache.royale.utils.Language.is(g, spark.components.RadioButtonGroup)) {
        return null;
      }
      this.spark_components_RadioButton__group = g;
    }
  }
  return this.spark_components_RadioButton__group;
};


spark.components.RadioButton.prototype.set__group = function(value) {
  if (this.spark_components_RadioButton__group == value)
    return;
  this.spark_components_RadioButton_removeFromGroup();
  this.spark_components_RadioButton__group = value;
  this.spark_components_RadioButton__groupName = value ? this.group.id : "radioGroup";
  org.apache.royale.utils.Language.as(this.spark_components_RadioButton_rbicon.element, HTMLInputElement).name = this.spark_components_RadioButton__groupName;
  if (value)
    this.spark_components_RadioButton_addToGroup();
};


spark.components.RadioButton.prototype.get__groupName = function() {
  return this.spark_components_RadioButton__groupName;
};


spark.components.RadioButton.prototype.set__groupName = function(value) {
  if (!value || value == "")
    return;
  this.spark_components_RadioButton__groupName = value;
  this.spark_components_RadioButton__group = null;
  this.spark_components_RadioButton_rbicon.element.name = value;
};


spark.components.RadioButton.prototype.get__value = function() {
  return this.spark_components_RadioButton__value;
};


spark.components.RadioButton.prototype.set__value = function(value) {
  if (this.spark_components_RadioButton__value == value)
    return;
  this.spark_components_RadioButton__value = value;
  if (this.selected && this.group)
    this.group.dispatchEvent(new mx.events.FlexEvent(mx.events.FlexEvent.VALUE_COMMIT));
};


Object.defineProperties(spark.components.RadioButton.prototype, /** @lends {spark.components.RadioButton.prototype} */ {
/**
  * @export
  * @type {string} */
id: {
get: org.apache.royale.core.UIBase.prototype.get__id,
set: spark.components.RadioButton.prototype.set__id},
/**
  * @export
  * @type {string} */
label: {
get: spark.components.RadioButton.prototype.get__label,
set: spark.components.RadioButton.prototype.set__label},
/**
  * @export
  * @type {boolean} */
selected: {
get: spark.components.supportClasses.ToggleButtonBase.prototype.get__selected,
set: spark.components.RadioButton.prototype.set__selected},
/**
  * @export
  * @type {number} */
measuredWidth: {
get: spark.components.RadioButton.prototype.get__measuredWidth,
set: mx.core.UIComponent.prototype.set__measuredWidth},
/**
  * @export
  * @type {boolean} */
enabled: {
get: spark.components.RadioButton.prototype.get__enabled,
set: spark.components.supportClasses.SkinnableComponent.prototype.set__enabled},
/**
  * @type {string} */
spark_components_RadioButton_autoGroupIndex: {
get: spark.components.RadioButton.prototype.get__spark_components_RadioButton_autoGroupIndex},
/**
  * @export
  * @type {spark.components.RadioButtonGroup} */
group: {
get: spark.components.RadioButton.prototype.get__group,
set: spark.components.RadioButton.prototype.set__group},
/**
  * @export
  * @type {string} */
groupName: {
get: spark.components.RadioButton.prototype.get__groupName,
set: spark.components.RadioButton.prototype.set__groupName},
/**
  * @export
  * @type {Object} */
value: {
get: spark.components.RadioButton.prototype.get__value,
set: spark.components.RadioButton.prototype.set__value}}
);


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
spark.components.RadioButton.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'RadioButton', qName: 'spark.components.RadioButton', kind: 'class' }] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
spark.components.RadioButton.prototype.ROYALE_REFLECTION_INFO = function () {
  return {
    variables: function () {
      return {
        '|radioCounter': { type: 'int', get_set: function (/** * */ v) {return v !== undefined ? spark.components.RadioButton.radioCounter = v : spark.components.RadioButton.radioCounter;}},
        'http://www.adobe.com/2006/flex/mx/internal::indexNumber': { type: 'int', get_set: function (/** spark.components.RadioButton */ inst, /** * */ v) {return v !== undefined ? inst.http_$$www_adobe_com$2006$flex$mx$internal__indexNumber = v : inst.http_$$www_adobe_com$2006$flex$mx$internal__indexNumber;}},
        'http://www.adobe.com/2006/flex/mx/internal::radioButtonGroup': { type: 'spark.components.RadioButtonGroup', get_set: function (/** spark.components.RadioButton */ inst, /** * */ v) {return v !== undefined ? inst.http_$$www_adobe_com$2006$flex$mx$internal__radioButtonGroup = v : inst.http_$$www_adobe_com$2006$flex$mx$internal__radioButtonGroup;}}
      };
    },
    accessors: function () {
      return {
        'id': { type: 'String', access: 'writeonly', declaredBy: 'spark.components.RadioButton'},
        'label': { type: 'String', access: 'readwrite', declaredBy: 'spark.components.RadioButton'},
        'selected': { type: 'Boolean', access: 'writeonly', declaredBy: 'spark.components.RadioButton'},
        'measuredWidth': { type: 'Number', access: 'readonly', declaredBy: 'spark.components.RadioButton'},
        'enabled': { type: 'Boolean', access: 'readonly', declaredBy: 'spark.components.RadioButton'},
        'group': { type: 'spark.components.RadioButtonGroup', access: 'readwrite', declaredBy: 'spark.components.RadioButton'},
        'groupName': { type: 'String', access: 'readwrite', declaredBy: 'spark.components.RadioButton'},
        'value': { type: 'Object', access: 'readwrite', declaredBy: 'spark.components.RadioButton', metadata: function () { return [ { name: 'Bindable', args: [ { key: '', value: 'change' } ] }, { name: 'Bindable', args: [ { key: '', value: 'valueChanged' } ] } ]; }}
      };
    },
    methods: function () {
      return {
        'RadioButton': { type: '', declaredBy: 'spark.components.RadioButton'},
        'addedToParent': { type: 'void', declaredBy: 'spark.components.RadioButton'}
      };
    }
  };
};
/**
 * @const
 * @type {number}
 */
spark.components.RadioButton.prototype.ROYALE_COMPILE_FLAGS = 10;
